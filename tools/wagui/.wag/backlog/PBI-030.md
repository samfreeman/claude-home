# PBI-030: Configurable Transcript Filter List

## User Story

As a wagui user, I want a configurable list of patterns to filter from transcript messages so that new noise patterns can be easily added without code changes.

## Problem

Current filtering in `transcript.ts` is hardcoded:
- `<command-message>` tags
- `<command-name>` tags
- `<ide_opened_file>` tags
- Context compaction text
- `<system-reminder>` tags

But new patterns keep appearing that need filtering:
- Command file expansions (skill content like `# WAGU - WAG with UI...`)
- Messages containing `ARGUMENTS:` at the end
- Future unknown patterns

Each new pattern requires code changes to `parseTranscriptEntry`.

## Solution

Create a configurable filter list that can be edited without changing code:

1. **Filter config file** `.wag/filters.json`:
```json
{
  "skipIfStartsWith": [
    "<command-message>",
    "<command-name>",
    "<ide_opened_file>",
    "# WAGU",
    "# WAG"
  ],
  "skipIfContains": [
    "ARGUMENTS:",
    "This session is being continued"
  ],
  "stripPatterns": [
    "<system-reminder>[\\s\\S]*?</system-reminder>"
  ]
}
```

2. **Load filters on startup** in transcript.ts
3. **Apply filters dynamically** in `parseTranscriptEntry`

## Acceptance Criteria

- [ ] Create `.wag/filters.json` with default patterns
- [ ] Load filter config on server startup
- [ ] Apply `skipIfStartsWith` patterns
- [ ] Apply `skipIfContains` patterns
- [ ] Apply `stripPatterns` as regex replacements
- [ ] Existing hardcoded filters moved to config
- [ ] Tests for filter loading and application

## Technical Notes

- Filter file is per-app (in `.wag/`)
- Could also support global filters in `~/.claude/`
- Regex patterns need escaping in JSON

## Priority

P1 - Affects usability of transcript display

## Estimate

Small - config loading + filter application loop
