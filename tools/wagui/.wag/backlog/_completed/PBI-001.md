# PBI-001: Wire SQLite Persistence to SSE Hook

## User Story
As a developer, I want wagui to persist messages to SQLite so that I can see message history when I refresh the page or reconnect.

## Acceptance Criteria
- [x] Messages saved to SQLite as they arrive via SSE
- [x] On page load, fetch existing messages from database
- [x] Messages deduplicated by ID (no duplicates on reconnect)
- [x] API route for fetching history (or server action)
- [x] Tests written for new code

## Technical Notes
- `server/db.ts` contains database operations with `saveMessage()` and `getMessages()`
- Server-side persistence: messages saved when received via HTTP POST
- SSE `/events` endpoint sends history (last 50 messages) on client connect
- Tests use in-memory SQLite (`:memory:`) for isolation

## Dependencies
- None

## Implementation
See ADR-001 for full implementation details.
